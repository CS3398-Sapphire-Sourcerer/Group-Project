<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0"> <!-- This code is magical and helps mobile -->
    <meta name="description" content="A layout example with a side menu that hides on mobile, just like the Pure website.">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
    <link rel="stylesheet" href="../static/side-menu.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.min.js"></script>








    {# Save the CSRF token where JavaScript can get it #}
    {#<script>var csrfToken = '{{ session.csrf_token  }}';</script>#}

    {# the line below is for adding our own titles on each page importing the templates#}
    <title>{% block title %}CJS Testbed{% endblock %}</title>

</head>

<body>
{#this will allow the menu to be on every page with having to manually add it every time #}
    <div id="layout">
    <!-- Menu toggle -->
    <a href="#menu" id="menuLink" class="menu-link">
        <!-- Hamburger icon -->
        <span></span>
    </a>
    <div id="menu">
        <div class="pure-menu">
            <a class="pure-menu-heading" href="/">Quiz Cats</a>
            <ul class="pure-menu-list">
                <li class="pure-menu-item"><a href="/" class="pure-menu-link">Home</a></li>
                <li class="pure-menu-item"><a href="/teams" class="pure-menu-link">Teams</a></li>
                <li class="pure-menu-item" class="menu-item-divided pure-menu-selected"> <a href="/users" class="pure-menu-link">Users</a></li>
                {% if g.user %}
                    <!-- Moved profiles to under the user check, no need for a profile link if not logged in. -->
                    <li class="pure-menu-item"><a href="/users/{{g.user.id}}" class="pure-menu-link">Profile</a></li>
                    <li class="pure-menu-item"><a href="/logout">Logout {{ g.user.user_name }}</a></li>
                {% else %}
                    <li class="pure-menu-item"><a href="/signin" class="pure-menu-link">Sign In</a></li>
                    <li class="pure-menu-item"><a href="/signup" class="pure-menu-link">Sign Up</a></li>
                {% endif %}

            </ul>
        </div>
    </div>
</div>
    <script src="/static/ui.js"></script>


    {# This is where you begin to fill in the data you want on the page #}
    {% block content %}

    <div style="text-align:center">
        <button name="fireRequest" id="fireRequest">The Button</button>
    </div>

    {% if g.user %}
        <div style="text-align:center">{{ g.user }}</div>
        <div style="text-align:center">{{ g.user.id }}</div>
        <div style="text-align:center">{{ g.user.user_name }}</div>
        <div style="text-align:center">{{ g.user.pass_word }}</div>
        <div style="text-align:center">{{ g.user.email }}</div>
        <div style="text-align:center">{{ g.user.q_correct }}</div>
        <div style="text-align:center">{{ g.user.q_total }}</div>
        <div style="text-align:center">{{ g.user.Score }}</div>
    {% endif %}


    <meta id="userSessionID" data-name="uSID" data-other="{{g.user.id}}">

    <script>var userID = $('#userSessionID').data().other;</script>
    <script>
        function addTimer() {
            window.setInterval(geolocateUser, 10000, userID);
        };
    </script>
    <script src="/static/httpRequestTest.js"></script>
    <script>
        console.log(userID);
        console.log("Initial read : ", userID);
        console.log("Typeof userID : ", typeof userID);
        addTimer();
        /*
        $.getScript("/static/httpRequestTest.js")
            .done(function () {addTimer();})
            .fail(function () {console.log("Failed");});
        */
    </script>

    {#    this is how you end the content block #}
    {% endblock %}

</body>
</html>




